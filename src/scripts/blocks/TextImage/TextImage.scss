@use 'sass:math';
@use '../../../styles/functions' as fn;
@use '../../../styles/mixins' as mx;
@use '../../../styles/colors' as clr;

@include mx.jp {
    .text-image {
        &.gr4 {
            .container {
                .content-wrapper {
                    h2 {
                        margin: 0 fn.toVw(26);
                        text-align: left;
                    }
                }
            }

            .description-inner {
                padding: fn.toVw(45) fn.toVw(30) fn.toVw(45) fn.toVw(56.48);

                @include mx.phone {
                    padding: fn.toVw(42) fn.toVw(13);
                }

                p {
                    font-size: fn.toVw(16);

                    @include mx.phone {
                        text-align: center;
                        font-size: fn.toVw(13);
                    }
                }
            }
        }

        &.gr5 {
            &.left1 {
                .description-inner.left {
                    p {
                        text-align: left;
                        font-size: fn.toVw(16);

                        @include mx.phone {
                            font-size: fn.toVw(11.5);
                        }
                    }
                }
            }

            .container {
                .content-wrapper {
                    h2 {
                        margin: 0 fn.toVw(26);
                        text-align: left;
                    }
                }
            }

            .description-inner.left {
                @include mx.phone {
                    padding-left: 0;
                    padding-right: 0;
                }

                p {
                    @include mx.phone {
                        font-size: fn.toVw(11.5);
                        font-weight: 400;
                        line-height: fn.toVw(20);
                        text-align: center;
                    }
                }
            }
        }

        .container {
            margin: 0 fn.toVw(69) 0 fn.toVw(144);

            @include mx.phone {
                margin: 0 fn.toVw(39) 0 fn.toVw(45);
                margin: 0;
            }

            .content-wrapper {
                margin-left: 0;

                @include mx.phone {
                    margin: 0;
                }

                h2 {
                    font-size: fn.toVw(64);
                    max-width: unset;
                    border-bottom: 1px solid clr.$white;
                    width: fit-content;
                    padding-bottom: fn.toVw(16);

                    @include mx.phone {
                        font-size: fn.toVw(22);
                        text-align: center;
                        margin: 0 auto;
                    }
                }

                h3 {
                    margin-left: auto;
                    max-width: fn.toVw(925);
                    font-size: fn.toVw(30);
                    font-weight: 400;
                    line-height: fn.toVw(60);

                    @include mx.phone {
                        font-size: fn.toVw(12);
                        line-height: fn.toVw(30);
                        text-align: center;
                    }
                }
            }
        }
    }
}

.text-image {
    padding: fn.toVw(170) 0 0;
    background-color: clr.$brown-15;
    color: clr.$white-5;

    &.wide {
        .container .content-wrapper {
            margin-left: 0;

            @include mx.phone {
                margin-left: unset;
                margin-right: unset;
                width: fn.toVw(307);
                margin: 0 auto;
            }

            h2 {
                max-width: fn.toVw(773);
                margin: 0 auto;

                @include mx.phone {
                    max-width: unset;
                }
            }
        }
    }

    @include mx.phone {
        padding: fn.toVw(88) 0 0 0;
    }

    .container {
        margin: 0 fn.toVw(144);

        @include mx.phone {
            margin: 0;
        }

        .content-wrapper {
            margin-left: fn.toVw(239);
            margin-bottom: fn.toVw(200);

            @include mx.phone {
                margin: 0 fn.toVw(45);
            }

            h2 {
                margin: 0 0 fn.toVw(66) 0;
                max-width: fn.toVw(732);
                color: clr.$white-5;

                font-size: fn.toVw(80);
                line-height: fn.toVw(92);
                letter-spacing: fn.toVw(-0.8);

                @include mx.phone {
                    margin: 0;
                    font-size: fn.toVw(42);
                    line-height: fn.toVw(46);
                    font-weight: 400;
                }
            }

            h3 {
                font-size: fn.toVw(35);
                line-height: fn.toVw(43);
                font-weight: 300;

                max-width: fn.toVw(796);

                @include mx.phone {
                    font-size: fn.toVw(22);
                    line-height: math.div(28, 22);
                }
            }

            .description-wrapper {
                display: none;

                position: relative;
                margin-top: fn.toVw(59);
                margin-bottom: fn.toVw(126);

                @include mx.phone {
                    margin-top: fn.toVw(28);
                    margin-bottom: fn.toVw(41);

                    flex-direction: column;
                }

                p {
                    margin: 0;
                }

                .quote {
                    flex: 0 0 50%;
                    width: 50%;

                    @include mx.phone {
                        flex: 1;
                        width: 100%;
                    }

                    p {
                        font-weight: 400;
                    }

                    p:before {
                        content: '';
                        display: inline-block;
                        width: fn.toVw(18);
                        height: 1px;
                        background-color: clr.$white-5;
                        vertical-align: middle;

                        margin-right: fn.toVw(11);
                    }
                }
            }
        }
    }

    .frame-wrapper {
        // width: calc(100% - 2rem);
        // height: calc(100% - 2rem);
        // margin: 1rem;
        width: 100%;
        height: 100%;
        position: relative;
        overflow: hidden;
        will-change: transform;
        transform: scale(1.2);
    }

    .image-wrapper {
        width: 100%;
        height: 100vh;
        position: relative;
        display: block;
        margin: 0 auto;
        overflow: hidden;
        border-radius: fn.toVw(20);
        will-change: transform;

        @include mx.phone {
            width: auto;
            border-radius: fn.toVw(12);
        }

        .image-picker {
            position: absolute;
            top: 0;
            left: 0;
            z-index: 1;
        }

        .background-image,
        video {
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;

            &.portrait {
                display: none;
            }

            @include mx.phone {
                &.desktop {
                    display: none;
                }

                &.portrait {
                    display: block;
                }
            }
        }

        video {
            object-fit: cover;
            object-position: center;
        }
    }

    .description-inner {
        position: absolute;
        width: fn.toVw(565);
        bottom: fn.toVw(50);
        right: fn.toVw(50);

        &.left {
            left: fn.toVw(50);
            right: unset;

            @include mx.phone {
                left: 50%;
                transform: translateX(-50%);
            }
        }

        border-radius: fn.toVw(12);
        background: rgba(34, 29, 25, 0.64);

        backdrop-filter: blur(27.149999618530273px);

        padding: fn.toVw(43) fn.toVw(56);

        display: block;
        will-change: transform;

        @include mx.phone {
            margin-top: fn.toVw(13);
            margin-left: fn.toVw(28);

            bottom: fn.toVw(17);
            left: fn.toVw(10);
            right: fn.toVw(10);
            margin: 0;
            width: fn.toVw(321);

            padding: fn.toVw(20);
        }

        p {
            font-weight: 400;
        }
    }
}